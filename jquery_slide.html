<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	#main_slide{
		width:500px;
		height:400px;
		background-color:blue;
		position: relative;
		margin:100px auto;
		overflow: hidden;
	}
	#list_slide{
		width:3500px;
		height:400px;
		position: absolute;
		left:0px;
	}
	#list_slide img{
		width:500px;
		height:400px;
		float:left;
	}
	#ctrl_slide{
		position: absolute;
	    left: 155px;
	    bottom: 20px;
	    text-align: center;
	}
	.span_slide{
		border-radius: 50%;
	    width: 30px;
	    height: 30px;
	    background-color: #b3b4cc;
	    display: inline-block;
	    box-sizing: border-box;
	    color: #fff;
	    padding-top: 5px;
	    cursor:pointer;
	}
	.active{
		background-color:#302351;
	}
	#btn_left_slide{
		text-align: center;
		position: absolute;
	    left: 10px;
	    top: 170px;
	    z-index: 1;
	    font-size: 50px;
	    color: #fff;
	    width: 52px;
	    height: 60px;
	    background-color: #1b1e1b;
	    cursor:pointer;
	    opacity: 0;
	    transition:opacity 1s;
	}
	#btn_right_slide{
		text-align: center;
		position: absolute;
	    right: 10px;
	    top: 170px;
	    z-index: 1;
	    font-size: 50px;
	    color: #fff;
	    width: 52px;
	    height: 60px;
	    background-color: #1b1e1b;
	    cursor:pointer;
	    opacity: 0;
	    transition:opacity 1s;
	}
	#main_slide:hover .btn_slide{
		opacity:1;
	}
	#thisisshuzi{
		text-align: center;
		width: 50px;
		height: 50px;
		position: absolute;
		z-index: 999;
		left: 60px;
		bottom: 11px;
	}
	</style>
	<script src="jquery-2.2.3.js"></script>
	<script>
		$(document).ready(function(){
			var i=0;
			var clone=$(".img_slide").first().clone();
			$("#list_slide").append(clone);
			var size=$(".img_slide").size();
			$(".span_slide").first().addClass('active');

			//下面那个小圆圈点击
			$(".span_slide").click(function(){
				var index=$(this).index();
				i=index;
				$("#list_slide").stop().animate({left:-index*500},500);
				$(this).addClass('active').siblings().removeClass('active');

			$("#thisisshuzi").text(index+1+"/5");
			});
			$("#thisisshuzi").text(i+1+"/5");

             //自动轮播
             var timer=setInterval(function(){
             	i++;
             	move();
             }, 2000);
              //鼠标移入停止
             $("#main_slide").mouseover(function(){
             	clearInterval(timer);
             });
             //鼠标移出开始
              $("#main_slide").mouseout(function(){
              	timer=setInterval(function(){
              		 i++;
              		 move();
              	}, 2000);
              });
			//左边点击
		$("#btn_left_slide").click(function(){
			        i--;
				move();
			});
		    //右边点击
		$("#btn_right_slide").click(function(){
			      i++;
			    move();
			});

		//移动函数
		function move(){
			var b=0;
                 if (i<1) {
                 	b=5;
			$("#thisisshuzi").text(b+1+"/5");
                 }else if (i==5) {
                 	b=0;
			$("#thisisshuzi").text(b+1+"/5");
                 }else if (i==6) {
                 	b=1;
			$("#thisisshuzi").text(b+1+"/5");
                 }
                 else{
                 	if (i==size-1) {
                 		b=2;
			$("#thisisshuzi").text(b+1+"/5");
                 	}
                 	b=i;
			$("#thisisshuzi").text(b+1+"/5");
                 }
                 console.log(i);
				if (i<0) {
					$("#list_slide").css({left:-(size-1)*500+"px"});
					i=size-2;
				}
             	if (i>size-1) {
             		$("#list_slide").css({left: 0});
             		i=1;
             	}
             	$("#list_slide").stop().animate({left:-i*500},500);
             		if (i==size-1) {
             		
             	$(".span_slide").eq(0).addClass('active').siblings().removeClass('active');
             	}else{
             	$(".span_slide").eq(i).addClass('active').siblings().removeClass('active');}
		}
		});
	</script>
</head>
<body>
	<div id="main_slide">
	<div id="thisisshuzi"></div>
	<div id="btn_left_slide" class="btn_slide"><</div>
	<div id="btn_right_slide" class="btn_slide">></div>
		<div id="list_slide">
			<div class="img_slide"><img src="img/1.jpg"></div>
			<div class="img_slide"><img src="img/2.jpg"></div>
			<div class="img_slide"><img src="img/3.jpg"></div>
			<div class="img_slide"><img src="img/4.jpg"></div>
			<div class="img_slide"><img src="img/5.jpg"></div>
		</div>
		<div id="ctrl_slide">
			<span class="span_slide">1</span>
			<span class="span_slide">2</span>
			<span class="span_slide">3</span>
			<span class="span_slide">4</span>
			<span class="span_slide">5</span>
		</div>
	</div>
</body>
</html>